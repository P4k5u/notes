Redis 对象对应的底层数据结构关系：
![[Pasted image 20240331112309.png]]
### SDS 简单动态字符串
字符串在 Redis 中是很常用的，键值对中的键是字符串类型，值有时也是字符串类型。

Redis 是用 C 语言实现的，但是它没有直接使用 C 语言的 char* 字符数组来实现字符串，而是自己封装了一个名为简单动态字符串（simple dynamic string，SDS） 的数据结构来表示字符串，也就是 Redis 的 String 数据类型的底层数据结构是 SDS

#### SDS 结构设计
Redis 5.0 的 SDS 的数据结构：![[Pasted image 20240331112421.png]]
每个成员变量介绍：
- len：**记录了字符串长度**。这样获取字符串长度的时候，只需要返回这个成员变量值就行，时间复杂度只需要 O（1）
- alloc：**分配给字符数组的空间长度**。这样在修改字符串的时候，可以通过 `alloc - len` 计算出剩余的空间大小，可以用来判断空间是否满足修改需求，如果不满足的话，就会自动将 SDS 的空间扩展至执行修改所需的大小，然后才执行实际的修改操作，所以使用 SDS 既不需要手动修改 SDS 的空间大小，也不会出现前面所说的缓冲区溢出的问题
- flags：**用来表示不同类型的 SDS**。一共设计了 5 种类型，分别是 sdshdr5、sdshdr8、sdshdr16、sdshdr32 和 sdshdr64
- buf[]：**字符数组，用来保存实际数据**。不仅可以保存字符串，也可以保存二进制数据

Redis 的 SDS 结构在原本字符数组之上，增加了三个元数据：len、alloc、flags，用来解决 C 语言字符串的缺陷：
-  O（1）复杂度获取字符串长度
- 二进制安全
- 不会发生缓冲区溢出
- 节省内存空间
### ZipList 压缩列表

### QuickList 快表

### Dict 字典/哈希表

### IntSet 整数集

### SkipList 跳表